# Generated by Django 4.2.20 on 2025-03-23 21:28

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='CarModel',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الموديل')),
                ('year_from', models.PositiveIntegerField(verbose_name='سنة البداية')),
                ('year_to', models.PositiveIntegerField(blank=True, null=True, verbose_name='سنة النهاية')),
                ('image', models.ImageField(blank=True, null=True, upload_to='car_models/', verbose_name='الصورة')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'موديل سيارة',
                'verbose_name_plural': 'موديلات السيارات',
                'ordering': ['manufacturer', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Category',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الفئة')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('image', models.ImageField(blank=True, null=True, upload_to='categories/', verbose_name='الصورة')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='parts_inventory.category', verbose_name='الفئة الأم')),
            ],
            options={
                'verbose_name': 'فئة',
                'verbose_name_plural': 'الفئات',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Debt',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('debt_type', models.CharField(choices=[('receivable', 'مستحق لنا'), ('payable', 'مستحق علينا')], max_length=20, verbose_name='نوع الدين')),
                ('customer_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='اسم العميل')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ الأصلي')),
                ('remaining_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ المتبقي')),
                ('due_date', models.DateField(verbose_name='تاريخ الاستحقاق')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('is_paid', models.BooleanField(default=False, verbose_name='تم السداد')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'دين',
                'verbose_name_plural': 'الديون',
                'ordering': ['due_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='FinancialAccount',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الحساب')),
                ('account_type', models.CharField(choices=[('asset', 'أصول'), ('liability', 'التزامات'), ('equity', 'حقوق ملكية'), ('revenue', 'إيرادات'), ('expense', 'مصروفات')], max_length=20, verbose_name='نوع الحساب')),
                ('code', models.CharField(max_length=20, unique=True, verbose_name='رمز الحساب')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('parent', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='children', to='parts_inventory.financialaccount', verbose_name='الحساب الأب')),
            ],
            options={
                'verbose_name': 'حساب مالي',
                'verbose_name_plural': 'الحسابات المالية',
                'ordering': ['code', 'name'],
            },
        ),
        migrations.CreateModel(
            name='Manufacturer',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الشركة المصنعة')),
                ('country', models.CharField(blank=True, max_length=100, null=True, verbose_name='بلد المنشأ')),
                ('website', models.URLField(blank=True, null=True, verbose_name='الموقع الإلكتروني')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='manufacturers/', verbose_name='الشعار')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'شركة مصنعة',
                'verbose_name_plural': 'الشركات المصنعة',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Part',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='اسم القطعة')),
                ('part_number', models.CharField(max_length=50, unique=True, verbose_name='رقم القطعة')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('condition', models.CharField(choices=[('new', 'جديد'), ('used', 'مستعمل'), ('refurbished', 'مجدد')], default='new', max_length=20, verbose_name='الحالة')),
                ('price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر')),
                ('stock_quantity', models.PositiveIntegerField(verbose_name='الكمية المتوفرة')),
                ('min_stock_level', models.PositiveIntegerField(default=5, verbose_name='الحد الأدنى للمخزون')),
                ('location', models.CharField(blank=True, max_length=100, null=True, verbose_name='موقع التخزين')),
                ('weight', models.DecimalField(blank=True, decimal_places=2, max_digits=6, null=True, verbose_name='الوزن (كجم)')),
                ('dimensions', models.CharField(blank=True, max_length=100, null=True, verbose_name='الأبعاد')),
                ('image', models.ImageField(blank=True, null=True, upload_to='parts/', verbose_name='الصورة')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('category', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parts', to='parts_inventory.category', verbose_name='الفئة')),
                ('compatible_cars', models.ManyToManyField(related_name='compatible_parts', to='parts_inventory.carmodel', verbose_name='السيارات المتوافقة')),
                ('manufacturer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='parts', to='parts_inventory.manufacturer', verbose_name='الشركة المصنعة')),
            ],
            options={
                'verbose_name': 'قطعة غيار',
                'verbose_name_plural': 'قطع الغيار',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Purchase',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('purchase_date', models.DateField(verbose_name='تاريخ الشراء')),
                ('expected_delivery', models.DateField(blank=True, null=True, verbose_name='تاريخ التسليم المتوقع')),
                ('actual_delivery', models.DateField(blank=True, null=True, verbose_name='تاريخ التسليم الفعلي')),
                ('status', models.CharField(choices=[('pending', 'قيد الانتظار'), ('ordered', 'تم الطلب'), ('received', 'تم الاستلام'), ('cancelled', 'ملغي')], default='pending', max_length=20, verbose_name='الحالة')),
                ('invoice_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم الفاتورة')),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ الإجمالي')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_purchases', to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
            ],
            options={
                'verbose_name': 'عملية شراء',
                'verbose_name_plural': 'عمليات الشراء',
                'ordering': ['-purchase_date'],
            },
        ),
        migrations.CreateModel(
            name='Sale',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('customer_name', models.CharField(max_length=100, verbose_name='اسم العميل')),
                ('customer_phone', models.CharField(blank=True, max_length=20, null=True, verbose_name='رقم هاتف العميل')),
                ('customer_email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='بريد العميل الإلكتروني')),
                ('sale_date', models.DateTimeField(verbose_name='تاريخ البيع')),
                ('status', models.CharField(choices=[('pending', 'قيد الانتظار'), ('completed', 'مكتمل'), ('cancelled', 'ملغي')], default='pending', max_length=20, verbose_name='الحالة')),
                ('invoice_number', models.CharField(max_length=50, unique=True, verbose_name='رقم الفاتورة')),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ الإجمالي')),
                ('discount', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='الخصم')),
                ('tax', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='الضريبة')),
                ('final_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ النهائي')),
                ('payment_method', models.CharField(blank=True, max_length=50, null=True, verbose_name='طريقة الدفع')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_sales', to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
            ],
            options={
                'verbose_name': 'عملية بيع',
                'verbose_name_plural': 'عمليات البيع',
                'ordering': ['-sale_date'],
            },
        ),
        migrations.CreateModel(
            name='ShopInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=200, verbose_name='اسم المحل')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='shop/', verbose_name='شعار المحل')),
                ('address', models.TextField(verbose_name='عنوان المحل')),
                ('phone', models.CharField(max_length=20, verbose_name='رقم الهاتف')),
                ('mobile', models.CharField(blank=True, max_length=20, null=True, verbose_name='رقم الجوال')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='البريد الإلكتروني')),
                ('website', models.URLField(blank=True, null=True, verbose_name='الموقع الإلكتروني')),
                ('tax_number', models.CharField(max_length=50, verbose_name='الرقم الضريبي')),
                ('commercial_register', models.CharField(max_length=50, verbose_name='رقم السجل التجاري')),
                ('commercial_register_date', models.DateField(verbose_name='تاريخ السجل التجاري')),
                ('tax_certificate', models.FileField(blank=True, null=True, upload_to='shop/documents/', verbose_name='شهادة التسجيل الضريبي')),
                ('commercial_register_document', models.FileField(blank=True, null=True, upload_to='shop/documents/', verbose_name='وثيقة السجل التجاري')),
                ('bank_name', models.CharField(blank=True, max_length=100, null=True, verbose_name='اسم البنك')),
                ('bank_account', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم الحساب البنكي')),
                ('iban', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم الآيبان')),
                ('swift_code', models.CharField(blank=True, max_length=20, null=True, verbose_name='رمز السويفت')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات إضافية')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'معلومات المحل',
                'verbose_name_plural': 'معلومات المحل',
            },
        ),
        migrations.CreateModel(
            name='Supplier',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم المورد')),
                ('contact_person', models.CharField(blank=True, max_length=100, null=True, verbose_name='الشخص المسؤول')),
                ('email', models.EmailField(blank=True, max_length=254, null=True, verbose_name='البريد الإلكتروني')),
                ('phone', models.CharField(blank=True, max_length=20, null=True, verbose_name='رقم الهاتف')),
                ('address', models.TextField(blank=True, null=True, verbose_name='العنوان')),
                ('website', models.URLField(blank=True, null=True, verbose_name='الموقع الإلكتروني')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'مورد',
                'verbose_name_plural': 'الموردين',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='TaxRate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الضريبة')),
                ('rate', models.DecimalField(decimal_places=2, help_text='النسبة المئوية للضريبة', max_digits=5, verbose_name='معدل الضريبة')),
                ('is_default', models.BooleanField(default=False, verbose_name='افتراضي')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
            ],
            options={
                'verbose_name': 'معدل ضريبة',
                'verbose_name_plural': 'معدلات الضرائب',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Transaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_date', models.DateField(verbose_name='تاريخ المعاملة')),
                ('transaction_type', models.CharField(choices=[('sale', 'بيع'), ('purchase', 'شراء'), ('expense', 'مصروف'), ('income', 'إيراد'), ('transfer', 'تحويل'), ('adjustment', 'تسوية')], max_length=20, verbose_name='نوع المعاملة')),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم المرجع')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
                ('credit_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions_as_credit', to='parts_inventory.financialaccount', verbose_name='الحساب الدائن')),
                ('debit_account', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='transactions_as_debit', to='parts_inventory.financialaccount', verbose_name='الحساب المدين')),
                ('purchase', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transactions', to='parts_inventory.purchase', verbose_name='عملية الشراء')),
                ('sale', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='transactions', to='parts_inventory.sale', verbose_name='عملية البيع')),
            ],
            options={
                'verbose_name': 'معاملة مالية',
                'verbose_name_plural': 'المعاملات المالية',
                'ordering': ['-transaction_date', '-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TaxReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('report_type', models.CharField(choices=[('monthly', 'شهري'), ('quarterly', 'ربع سنوي'), ('annual', 'سنوي'), ('custom', 'مخصص')], max_length=20, verbose_name='نوع التقرير')),
                ('start_date', models.DateField(verbose_name='تاريخ البداية')),
                ('end_date', models.DateField(verbose_name='تاريخ النهاية')),
                ('status', models.CharField(choices=[('draft', 'مسودة'), ('submitted', 'تم التقديم'), ('accepted', 'مقبول'), ('rejected', 'مرفوض')], default='draft', max_length=20, verbose_name='حالة التقرير')),
                ('total_sales_tax', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي ضرائب المبيعات')),
                ('total_purchase_tax', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي ضرائب المشتريات')),
                ('tax_due', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='الضريبة المستحقة')),
                ('submission_date', models.DateField(blank=True, null=True, verbose_name='تاريخ التقديم')),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم المرجع')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
            ],
            options={
                'verbose_name': 'تقرير ضريبي',
                'verbose_name_plural': 'تقارير ضريبية',
                'ordering': ['-end_date'],
            },
        ),
        migrations.CreateModel(
            name='TaxCategory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='اسم الفئة')),
                ('description', models.TextField(blank=True, null=True, verbose_name='الوصف')),
                ('is_active', models.BooleanField(default=True, verbose_name='نشط')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('tax_rates', models.ManyToManyField(related_name='categories', to='parts_inventory.taxrate', verbose_name='معدلات الضريبة')),
            ],
            options={
                'verbose_name': 'فئة ضريبية',
                'verbose_name_plural': 'فئات الضرائب',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='SaleTax',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tax_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ الضريبة')),
                ('is_paid', models.BooleanField(default=False, verbose_name='تم الدفع')),
                ('payment_date', models.DateField(blank=True, null=True, verbose_name='تاريخ الدفع')),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم المرجع')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
                ('sale', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='taxes', to='parts_inventory.sale', verbose_name='عملية البيع')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='parts_inventory.taxrate', verbose_name='معدل الضريبة')),
            ],
            options={
                'verbose_name': 'ضريبة مبيعات',
                'verbose_name_plural': 'ضرائب المبيعات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SaleItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(verbose_name='الكمية')),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='سعر الوحدة')),
                ('total_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر الإجمالي')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('part', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='sale_items', to='parts_inventory.part', verbose_name='قطعة الغيار')),
                ('sale', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='parts_inventory.sale', verbose_name='عملية البيع')),
            ],
            options={
                'verbose_name': 'عنصر البيع',
                'verbose_name_plural': 'عناصر البيع',
            },
        ),
        migrations.CreateModel(
            name='PurchaseTax',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('tax_amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='مبلغ الضريبة')),
                ('is_deductible', models.BooleanField(default=True, help_text='هل يمكن خصم هذه الضريبة من ضرائب المبيعات', verbose_name='قابل للخصم')),
                ('is_claimed', models.BooleanField(default=False, verbose_name='تم المطالبة')),
                ('claim_date', models.DateField(blank=True, null=True, verbose_name='تاريخ المطالبة')),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم المرجع')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='تاريخ التحديث')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
                ('purchase', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='taxes', to='parts_inventory.purchase', verbose_name='عملية الشراء')),
                ('tax_rate', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, to='parts_inventory.taxrate', verbose_name='معدل الضريبة')),
            ],
            options={
                'verbose_name': 'ضريبة مشتريات',
                'verbose_name_plural': 'ضرائب المشتريات',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PurchaseItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('quantity', models.PositiveIntegerField(verbose_name='الكمية')),
                ('unit_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='سعر الوحدة')),
                ('total_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='السعر الإجمالي')),
                ('received_quantity', models.PositiveIntegerField(default=0, verbose_name='الكمية المستلمة')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('part', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='purchase_items', to='parts_inventory.part', verbose_name='قطعة الغيار')),
                ('purchase', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='items', to='parts_inventory.purchase', verbose_name='عملية الشراء')),
            ],
            options={
                'verbose_name': 'عنصر الشراء',
                'verbose_name_plural': 'عناصر الشراء',
            },
        ),
        migrations.AddField(
            model_name='purchase',
            name='supplier',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='purchases', to='parts_inventory.supplier', verbose_name='المورد'),
        ),
        migrations.CreateModel(
            name='ProfitLossReport',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start_date', models.DateField(verbose_name='تاريخ البداية')),
                ('end_date', models.DateField(verbose_name='تاريخ النهاية')),
                ('total_sales', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي المبيعات')),
                ('total_cost_of_goods', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي تكلفة البضائع المباعة')),
                ('gross_profit', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي الربح')),
                ('total_expenses', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='إجمالي المصروفات')),
                ('net_profit', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='صافي الربح')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
            ],
            options={
                'verbose_name': 'تقرير الربح والخسارة',
                'verbose_name_plural': 'تقارير الربح والخسارة',
                'ordering': ['-end_date'],
            },
        ),
        migrations.CreateModel(
            name='Inventory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_stock_update', models.DateTimeField(auto_now=True, verbose_name='آخر تحديث للمخزون')),
                ('last_inventory_check', models.DateTimeField(blank=True, null=True, verbose_name='آخر جرد للمخزون')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('part', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='inventory', to='parts_inventory.part', verbose_name='قطعة الغيار')),
            ],
            options={
                'verbose_name': 'مخزون',
                'verbose_name_plural': 'المخزون',
            },
        ),
        migrations.CreateModel(
            name='DebtPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('payment_date', models.DateField(verbose_name='تاريخ الدفع')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='المبلغ المدفوع')),
                ('payment_method', models.CharField(max_length=50, verbose_name='طريقة الدفع')),
                ('reference_number', models.CharField(blank=True, max_length=50, null=True, verbose_name='رقم المرجع')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='ملاحظات')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='تاريخ الإنشاء')),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='تم الإنشاء بواسطة')),
                ('debt', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to='parts_inventory.debt', verbose_name='الدين')),
            ],
            options={
                'verbose_name': 'دفعة سداد',
                'verbose_name_plural': 'دفعات السداد',
                'ordering': ['-payment_date'],
            },
        ),
        migrations.AddField(
            model_name='debt',
            name='purchase',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='debts', to='parts_inventory.purchase', verbose_name='عملية الشراء'),
        ),
        migrations.AddField(
            model_name='debt',
            name='sale',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='debts', to='parts_inventory.sale', verbose_name='عملية البيع'),
        ),
        migrations.AddField(
            model_name='debt',
            name='supplier',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='debts', to='parts_inventory.supplier', verbose_name='المورد'),
        ),
        migrations.AddField(
            model_name='carmodel',
            name='manufacturer',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='car_models', to='parts_inventory.manufacturer', verbose_name='الشركة المصنعة'),
        ),
    ]
